<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>[WebGL] A-Frame を試してみるテスト（その２改） - js do it</title>
<meta name="Description" content="" />
<meta name="Keywords"  content="" />

<link rel="stylesheet" type="text/css" media="screen,print" href="style.css" />
</head>
<body>
<!-- generated by: jsdo.it - http://jsdo.it/cx20/McIx -->
<!-- Copyright cx20 - http://jsdo.it/cx20 -->
<!-- Licensed under MIT License - http://www.opensource.org/licenses/mit-license.php -->
<!-- aframe.js v0.8.2 -->
<script src="https://unpkg.com/aframe@0.8.2"></script>

<script>
AFRAME.registerComponent('example', {
  schema: {
  },

  init: function () {
    var data = this.data;
    var el = this.el;

    this.material = new THREE.MeshBasicMaterial({vertexColors: THREE.VertexColors});
    this.geometry = new THREE.PlaneGeometry(1, 1);
    
    // 各頂点に色情報を設定
    //             1.0 y 
    //              ^  -1.0 
    //              | / z
    //              |/       x
    // -1.0 -----------------> +1.0
    //            / |
    //      +1.0 /  |
    //           -1.0
    // 
    //      [0]-----[2] [2]
    //       |  f0  /  / |
    //       |    /  /   |
    //       |  /  /  f1 |
    //      [1] [0]-----[1]
    //
    this.geometry.faces[0].vertexColors[0] = new THREE.Color(0xff0000); // f0-v0
    this.geometry.faces[0].vertexColors[1] = new THREE.Color(0x0000ff); // f0-v1
    this.geometry.faces[0].vertexColors[2] = new THREE.Color(0x00ff00); // f0-v2
    this.geometry.faces[1].vertexColors[0] = new THREE.Color(0x0000ff); // f1-v0
    this.geometry.faces[1].vertexColors[1] = new THREE.Color(0xffff00); // f1-v1
    this.geometry.faces[1].vertexColors[2] = new THREE.Color(0x00ff00); // f1-v2

    this.mesh = new THREE.Mesh(this.geometry, this.material);

    el.setObject3D('mesh', this.mesh);
  }
});
</script>

<a-scene>
    <a-entity example position="0 1.5 -1"></a-entity>
</a-scene>


<script type="text/javascript" src="index.js"></script>
</body>
</html>
