<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Processing.js でドット絵を描くテスト - js do it</title>
<meta name="Description" content="" />
<meta name="Keywords"  content="" />

<link rel="stylesheet" type="text/css" media="screen,print" href="style.css" />
</head>
<body>
<!-- generated by: jsdo.it - http://jsdo.it/cx20/in7V -->
<!-- Copyright cx20 - http://jsdo.it/cx20 -->
<!-- Licensed under MIT License - http://www.opensource.org/licenses/mit-license.php -->
<script type="application/processing">

// ‥‥‥‥‥‥‥‥‥‥‥‥‥□□□
// ‥‥‥‥‥‥〓〓〓〓〓‥‥□□□
// ‥‥‥‥‥〓〓〓〓〓〓〓〓〓□□
// ‥‥‥‥‥■■■□□■□‥■■■
// ‥‥‥‥■□■□□□■□□■■■
// ‥‥‥‥■□■■□□□■□□□■
// ‥‥‥‥■■□□□□■■■■■‥
// ‥‥‥‥‥‥□□□□□□□■‥‥
// ‥‥■■■■■〓■■■〓■‥‥‥
// ‥■■■■■■■〓■■■〓‥‥■
// □□■■■■■■〓〓〓〓〓‥‥■
// □□□‥〓〓■〓〓□〓〓□〓■■
// ‥□‥■〓〓〓〓〓〓〓〓〓〓■■
// ‥‥■■■〓〓〓〓〓〓〓〓〓■■
// ‥■■■〓〓〓〓〓〓〓‥‥‥‥‥
// ‥■‥‥〓〓〓〓‥‥‥‥‥‥‥‥
String[] dataSet = {
       "無","無","無","無","無","無","無","無","無","無","無","無","無","肌","肌","肌",
       "無","無","無","無","無","無","赤","赤","赤","赤","赤","無","無","肌","肌","肌",
       "無","無","無","無","無","赤","赤","赤","赤","赤","赤","赤","赤","赤","肌","肌",
       "無","無","無","無","無","茶","茶","茶","肌","肌","茶","肌","無","赤","赤","赤",
       "無","無","無","無","茶","肌","茶","肌","肌","肌","茶","肌","肌","赤","赤","赤",
       "無","無","無","無","茶","肌","茶","茶","肌","肌","肌","茶","肌","肌","肌","赤",
       "無","無","無","無","茶","茶","肌","肌","肌","肌","茶","茶","茶","茶","赤","無",
       "無","無","無","無","無","無","肌","肌","肌","肌","肌","肌","肌","赤","無","無",
       "無","無","赤","赤","赤","赤","赤","青","赤","赤","赤","青","赤","無","無","無",
       "無","赤","赤","赤","赤","赤","赤","赤","青","赤","赤","赤","青","無","無","茶",
       "肌","肌","赤","赤","赤","赤","赤","赤","青","青","青","青","青","無","無","茶",
       "肌","肌","肌","無","青","青","赤","青","青","黄","青","青","黄","青","茶","茶",
       "無","肌","無","茶","青","青","青","青","青","青","青","青","青","青","茶","茶",
       "無","無","茶","茶","茶","青","青","青","青","青","青","青","青","青","茶","茶",
       "無","茶","茶","茶","青","青","青","青","青","青","青","無","無","無","無","無",
       "無","茶","無","無","青","青","青","青","無","無","無","無","無","無","無","無" 
       };

color getRgbColor( String colorName )
{
    HashMap map = new HashMap();
    
    map.put("無", #000000);
    map.put("白", #ffffff);
    map.put("肌", #ffcccc);
    map.put("茶", #800000);
    map.put("赤", #ff0000);
    map.put("黄", #ffff00);
    map.put("緑", #00ff00);
    map.put("水", #00ffff);
    map.put("青", #0000ff);
    map.put("紫", #800080);
    color c = map.get( colorName );

	return c;
}

Mario mario = new Mario[ 10 ];

void setup() {
	size( screenWidth, screenHeight );
	background( 0 );
	noStroke();

    for ( int i = 0; i < mario.length; i++ ) {
		mario[i] = new Mario();
	}

}

void draw() {
	background( 0 );

    for ( int i = 0; i < mario.length; i++ ) {
		mario[i].update();
	}

    
}


class Mario {

	float base_x, base_y, radius;
	float r, g, b, a;
	float speed;

	Mario() {
        base_x = random( screenWidth );
		base_y = random( screenHeight );
        radius = ( random( 120 ) + 60 ) / 16;
		speed = random( 5 ) + 5;
	}

	void update() {
        base_y -= speed;
		if ( base_y + radius <= 0 ) {
			base_y = screenHeight + radius * 2;
		}

        int i, x, y;
        color c;
        for ( i = 0; i < dataSet.length; i++ ) {
            x = ( i % 16 ) * radius;
            y = Math.floor( i / 16 ) * radius;
            if ( dataSet[i] != "無" ) {
                c = getRgbColor(dataSet[i]);
                fill(c, 240);
                rect(base_x + x, base_y + y, radius-2, radius-2);
            }
        }
	}

}

</script>
<canvas id="canvas"></canvas>

<script type="text/javascript" src="http://jsdo.it/lib/Processing.js-1.4.0/js"></script>

<script type="text/javascript" src="index.js"></script>
</body>
</html>
